
<div class="create-account-page">
    
    <div class="col-md-4 col-md-offset-4 box" ng-if="!success">
    	
    	<h1>Create Account</h1>

		<form name="createAccountForm" ng-submit="createAccount(username, password1, agreementId)" novalidate>
		  <div class="form-group">
		  	<label>Email</label>
		  	<small class="color-error" ng-show="!error && isInvalid('username', 'required')">is required</small>
		  	<small class="color-error" ng-show="!error && isInvalid('username', 'email')">is not valid</small>
		  	<small class="color-error" ng-show="error && errorData.data.error_validation.email[0]">{{errorData.data.error_validation.email[0]}}</small>
		    <input type="email" class="form-control" name="username" ng-model="username" required="">
		  </div>
		  <div class="form-group">
		  	<label>Password</label>
		  	<small class="color-error" ng-show="isInvalid('password1', 'required')">is required</small>
		  	<small class="color-error" ng-show="isInvalid('password1', 'minlength')">must be at least 6 characters long</small>
		    <input type="password" class="form-control" name="password1" ng-model="password1" ng-minlength="6" required="">
		  </div>
		  <div class="form-group">
		  	<label>Repeat password</label>
		  	<small class="color-error" ng-show="isInvalid('password2', 'required')">is required</small>
		  	<small class="color-error" ng-show="isInvalid('password2', 'compareTo')">does not match</small>
		    <input type="password" class="form-control" name="password2" ng-model="password2" compare-to="password1" required="">
		  </div>
		  <div class="form-group">
		  	<label>Agreement #</label>
		  	<small class="color-error" ng-show="isInvalid('agreementId', 'required')">is required</small>
		    <input type="text" class="form-control" name="agreementId" ng-model="agreementId" required="">
		  </div>
		  <small class="color-error" ng-show="(createAccountForm.$submitted || createAccountForm.termsConditions.$touched) && !termsConditions">Accepting Terms &amp; Conditions is mandatory</small>
		  <div class="checkbox">
	        <label>
	      	  <input type="checkbox" name="termsConditions" ng-model="termsConditions" required=""> I have read and agree to the <a ng-click="openTermsConditions()" class="link">Terms &amp; Conditions</a> and <a ng-click="openPrivacyPolicy()" class="link">Privacy Policy</a>.
	        </label>
	  	  </div>

		  <div ng-if="creating || error">
		  	<p ng-if="creating">Creating account...</p>
		  	<p ng-if="errorDescription" class="text-danger">Error: {{errorDescription}}</p>
		  </div>

		  <div style="margin-top: 20px;">
			<input type="submit" class="btn btn-success" value="Create Account" />
			<input type="button" class="btn btn-default pull-right" ui-sref="login" value="Back to Login" />
		  </div>
		  <!-- <span us-spinner="{radius:30, width:8, length: 16}" spinner-key="login-spinner"></span> -->
		</form>
    </div>

    <div class="col-md-4 col-md-offset-4 box" ng-if="success">

    	<h1>Success!</h1>

    	<p>Thank you for joining Zoopa Business.
    	<br />Please go back to login page and log in with your credentials.</p>

    	<div style="margin-top: 20px;">
			<a class="btn btn-default pull-right" ui-sref="login">Back to Login</a>
		</div>

    </div>

</div>
